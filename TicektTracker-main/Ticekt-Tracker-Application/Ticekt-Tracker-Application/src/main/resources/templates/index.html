<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ticket Tracker</title>
  <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
          crossorigin="anonymous"
  />
</head>
<body>
<nav class="navbar bg-primary navbar-expand-lg" data-bs-theme="dark">
  <div class="container-fluid">
    <a class="navbar-brand" th:href="@{/admin/tickets}">Ticket Tracker Application</a>
    <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" th:href="@{/admin/tickets}">Tickets</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" th:href="@{/admin/tickets/newTicket}">New Ticket</a>
        </li>
      </ul>
      </form>
    </div>
  </div>
</nav>
<div class="container p-3">
  <h2>List of Tickets</h2>
  <form class="d-flex w-50 p-3" role="search" th:action="@{/admin/tickets/search}" method="get">
    <input
            class="form-control me-2"
            type="search"
            placeholder="Search"
            aria-label="Search"
            name="keyword"
            th:value="${keyword}"
    />
    <button type="submit" class="btn btn-primary">Search</button>
  </form>

  <table class="table table-striped table-bordered">
    <thead>
    <tr class="table-dark">
      <th scope="col">#</th>
      <th scope="col">Ticket Title</th>
      <th scope="col">Ticket short description</th>
      <th scope="col">Ticket created on</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="ticket, iStat : ${tickets_list}">
      <td th:text="${iStat.index+1}"></td>
<!--      <td th:text="${ticket.id}"/>-->
      <td th:text="${ticket.title}"/>
      <td th:text="${ticket.description}"/>
      <td th:text="${ticket.createdOn}"/>
      <td>
        <a class="btn btn-primary" th:href = "@{/admin/tickets/{id}/edit (id=${ticket.id})}">Edit</a>
        <a class="btn btn-danger" th:href = "@{/admin/tickets/delete/{id} (id=${ticket.id})}"> Delete</a>
        <a class="btn btn-info" th:href = "@{/admin/tickets/view/{id} (id=${ticket.id})}"> View</a>
      </td>
    </tr>
    </tbody>
  </table>
</div>

<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"
></script>
</body>
</html>